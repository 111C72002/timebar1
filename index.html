<!DOCTYPE html><html lang="zh-Hant"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>圓形倒數計時器</title>
<style>
:root{--circle:#A6F657;--text:#0B1C1A;--label:#0B1C1A}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;background:transparent;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC","PingFang TC","Heiti TC","Microsoft JhengHei",Arial,sans-serif;color:var(--text);display:flex;align-items:center;justify-content:center;padding:8px}
.wrap{width:100%}.timer{display:flex;gap:clamp(10px,3vw,28px);align-items:center;justify-content:center;flex-wrap:wrap}
.dot{width:clamp(72px,15vw,120px);height:clamp(72px,15vw,120px);border-radius:9999px;background:var(--circle);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:8px}
.num{font-weight:800;font-size:clamp(22px,6vw,42px);line-height:1.05}
.label{margin-top:6px;font-weight:600;font-size:clamp(10px,2.8vw,14px);color:var(--label);opacity:.9}
.sr-only{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
</style></head><body>
<div class="wrap" role="timer" aria-live="polite">
  <div class="timer">
    <div class="dot"><div class="num" id="d">0</div><div class="label" id="ld">天</div></div>
    <div class="dot"><div class="num" id="h">00</div><div class="label" id="lh">時</div></div>
    <div class="dot"><div class="num" id="m">00</div><div class="label" id="lm">分</div></div>
    <div class="dot"><div class="num" id="s">00</div><div class="label" id="ls">秒</div></div>
  </div>
  <div class="sr-only" id="srText"></div>
</div>
<script>
(function(){
  const url=new URL(window.location.href);
  const dateParam=url.searchParams.get("date")||"2025-10-31T00:00:00+08:00";
  const labels=(url.searchParams.get("labels")||"zh").toLowerCase();
  const circle=url.searchParams.get("circle"), text=url.searchParams.get("text"),
        labelColor=url.searchParams.get("label"), gap=url.searchParams.get("gap");
  if(circle)document.documentElement.style.setProperty("--circle",circle);
  if(text)document.documentElement.style.setProperty("--text",text);
  if(labelColor)document.documentElement.style.setProperty("--label",labelColor);
  if(gap)document.querySelector(".timer").style.gap=gap;

  function setLabels(locale){
    const ld=document.getElementById("ld"),lh=document.getElementById("lh"),
          lm=document.getElementById("lm"),ls=document.getElementById("ls");
    if(locale==="zh"){ld.textContent="天";lh.textContent="時";lm.textContent="分";ls.textContent="秒";}
    else{ld.textContent="Days";lh.textContent="Hours";lm.textContent="Minutes";ls.textContent="Seconds";}
  }
  setLabels(labels);

  const target=new Date(dateParam);
  const dEl=document.getElementById("d"),hEl=document.getElementById("h"),
        mEl=document.getElementById("m"),sEl=document.getElementById("s"),
        sr=document.getElementById("srText");
  if(isNaN(target.getTime())){dEl.textContent="Err";hEl.textContent="--";mEl.textContent="--";sEl.textContent="--";return;}
  const pad=n=>String(n).padStart(2,"0");
  function tick(){
    const now=new Date(); let diff=target-now;
    if(diff<=0){dEl.textContent="0";hEl.textContent="00";mEl.textContent="00";sEl.textContent="00";document.title=(labels==="zh")?"倒數完成":"Countdown finished";sr.textContent=(labels==="zh")?"已到期":"Expired";clearInterval(id);return;}
    const days=Math.floor(diff/86400000); diff-=days*86400000;
    const hours=Math.floor(diff/3600000); diff-=hours*3600000;
    const mins=Math.floor(diff/60000); diff-=mins*60000;
    const secs=Math.floor(diff/1000);
    dEl.textContent=String(days);hEl.textContent=pad(hours);mEl.textContent=pad(mins);sEl.textContent=pad(secs);
    sr.textContent=labels==="zh"?`還有 ${days} 天 ${pad(hours)} 時 ${pad(mins)} 分 ${pad(secs)} 秒`:`Time left: ${days} days ${pad(hours)} hours ${pad(mins)} minutes ${pad(secs)} seconds`;
  }
  const id=setInterval(tick,1000); tick();
})();
</script></body></html>
